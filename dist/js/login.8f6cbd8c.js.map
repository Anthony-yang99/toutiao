{"version":3,"file":"js/login.8f6cbd8c.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACE,MAAM,CAAC,MAAQ,aAAaF,EAAG,WAAW,CAACG,GAAG,CAAC,OAASL,EAAIM,WAAW,CAACJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,WAAYC,QAAS,sBAAsB,SAAW,IAAIC,MAAM,CAACC,MAAOX,EAAIY,SAASC,OAAQC,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIY,SAAU,SAAUG,EAAK,EAACE,WAAW,qBAAqBf,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAW,KAAO,OAAO,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEG,UAAU,EAAMC,QAAS,UAAWC,QAAQ,YAAY,SAAW,IAAIC,MAAM,CAACC,MAAOX,EAAIY,SAASM,KAAMJ,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIY,SAAU,OAAQG,EAAK,EAACE,WAAW,mBAAmBf,EAAG,MAAM,CAACiB,YAAY,CAAC,OAAS,SAAS,CAACjB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,SAAS,QAAUJ,EAAIoB,OAAO,eAAe,MAAM,SAAWpB,EAAIoB,SAAS,CAACpB,EAAIqB,GAAG,SAAS,IAAI,IAAI,EAC98B,EACGC,EAAkB,G,uCCgCtB,GACAC,KAAAA,aACAC,OACA,OACAZ,SAAAA,CACAC,OAAAA,cACAK,KAAAA,UAEAE,QAAAA,EAEA,EACAK,QAAAA,CACA,iBAEA,eACA,IACA,MAAAD,KAAAA,SAAA,wBAEA,QAAAE,KAAAA,UAAAlB,QAAAA,UACAmB,EAAAA,EAAAA,IAAAA,EAAAA,KAAAA,OACAC,aAAAA,QAAAA,eAAAA,EAAAA,KAAAA,eACA,sBAAAC,KAAAA,gBAIA,CAHA,UAEA,QAAAH,KAAAA,SAAAlB,QAAAA,QACA,CACA,cACA,IC7DmQ,I,UCO/PsB,GAAY,OACd,EACA/B,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAeQ,EAAiB,O","sources":["webpack://vue-hmtt/./src/views/login/Login-View.vue","webpack://vue-hmtt/src/views/login/Login-View.vue","webpack://vue-hmtt/./src/views/login/Login-View.vue?eda4","webpack://vue-hmtt/./src/views/login/Login-View.vue?beae"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"黑马头条-登录\"}}),_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"mobile\",\"label\":\"手机号\",\"placeholder\":\"手机号\",\"rules\":[{ required: true, message: '请填写合法手机号' ,pattern: /^1[3456789]\\d{9}$/}],\"required\":\"\"},model:{value:(_vm.userInfo.mobile),callback:function ($$v) {_vm.$set(_vm.userInfo, \"mobile\", $$v)},expression:\"userInfo.mobile\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"code\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写6位密码' ,pattern:/^\\d{6}$/}],\"required\":\"\"},model:{value:(_vm.userInfo.code),callback:function ($$v) {_vm.$set(_vm.userInfo, \"code\", $$v)},expression:\"userInfo.code\"}}),_c('div',{staticStyle:{\"margin\":\"16px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\",\"loading\":_vm.isload,\"loading-text\":\"登录中\",\"disabled\":_vm.isload}},[_vm._v(\"提交\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n  <!-- 导航栏 -->\r\n  <van-nav-bar title=\"黑马头条-登录\"/>\r\n  <!-- 登录表单 -->\r\n  <van-form @submit=\"onSubmit\">\r\n  <van-field\r\n    v-model=\"userInfo.mobile\"\r\n    name=\"mobile\"\r\n    label=\"手机号\"\r\n    placeholder=\"手机号\"\r\n    :rules=\"[{ required: true, message: '请填写合法手机号' ,pattern: /^1[3456789]\\d{9}$/}]\"\r\n    required\r\n  />\r\n  <van-field\r\n    v-model=\"userInfo.code\"\r\n    type=\"password\"\r\n    name=\"code\"\r\n    label=\"密码\"\r\n    placeholder=\"密码\"\r\n    :rules=\"[{ required: true, message: '请填写6位密码' ,pattern:/^\\d{6}$/}]\"\r\n    required\r\n  />\r\n  <div style=\"margin: 16px;\">\r\n    <van-button round block type=\"info\" native-type=\"submit\" :loading=\"isload\" loading-text=\"登录中\" :disabled=\"isload\">提交</van-button>\r\n  </div>\r\n</van-form>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { loginApi } from '@/api/index.js'\r\nimport { Notify } from 'vant'\r\nimport { setToken } from '@/utils/token.js'\r\nexport default {\r\n  name: 'Login-View',\r\n  data () {\r\n    return {\r\n      userInfo: {\r\n        mobile: '13966667788',\r\n        code: '246810' // 246810\r\n      },\r\n      isload: false\r\n    }\r\n  },\r\n  methods: {\r\n    async onSubmit () {\r\n      // console.log('submit', values)\r\n      this.isload = true\r\n      try {\r\n        const { data: res } = await loginApi(this.userInfo)\r\n        // console.log(res)\r\n        Notify({ type: 'success', message: '登录成功' })\r\n        setToken(res.data.token) // 保存token\r\n        localStorage.setItem('refrsh_token', res.data.refresh_token)\r\n        this.$router.replace({ path: '/layout/home' })\r\n      } catch (error) {\r\n        // console.log(error)\r\n        Notify({ type: 'danger', message: '登录失败' })\r\n      }\r\n      this.isload = false\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login-View.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login-View.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login-View.vue?vue&type=template&id=3fa7bb0b&scoped=true&\"\nimport script from \"./Login-View.vue?vue&type=script&lang=js&\"\nexport * from \"./Login-View.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fa7bb0b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","onSubmit","required","message","pattern","model","value","userInfo","mobile","callback","$$v","$set","expression","code","staticStyle","isload","_v","staticRenderFns","name","data","methods","type","setToken","localStorage","path","component"],"sourceRoot":""}